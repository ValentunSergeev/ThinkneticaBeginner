$(document).ready(function () {
    $('.train_name').click(function () {
        var id = $(this).data('trainId');
        $(this).hide();
        $('#train_name_' + id).show();
    });

    $('.cancel-train').click(function () {

        $(this).parent().hide();
        $(this).closest('td').find('.train_name').show();
    });

    $('.train_name_form').unbind('submit').submit(function () {
        var input = $(this).find("input[name='number']");
        var pattern = /^[a-zа-я0-9]{3}-?[a-zа-я0-9]{2}$/i;
        if (pattern.test(input.val())) {
            return true;
        } else {
            input.parent().addClass('has-error');
            alert('Invalid format!');
            return false;
        }
    })
});